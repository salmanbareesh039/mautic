{% if chartType is defined and chartData is defined %}
    {% set dataValues = chartData.datasets[0].data %}

    {% if showTotal is defined %}
        {% set totalSum = dataValues|reduce((carry, v) => carry + v) %}
        <div class="text-right mt-2 mr-md">
            <span class="fs-36">{{ totalSum }} {{'mautic.dashboard.widget.total'|trans}}</span>
        </div>
        {% if chartHeight is defined %}
            {% set chartHeight = chartHeight - 40 %}
        {% endif %}
    {% endif %}

    {% if dataValues|reduce((carry, v) => carry + v) > 0 %}
        <div class="chart-wrapper">
            <div class="pt-sd pr-md pb-md pl-md">
                <div {% if chartHeight is defined %} style="height:{{ chartHeight }}px" {% endif %}>
                    <canvas class="chart {{ chartType }}-chart" {{ disableLegend is defined ? 'data-disable-legend' : '' }}>
                        {{ chartData|json_encode }}
                    </canvas>
                </div>
            </div>
        </div>
    {% else %}
    <div class="col-xs-12">
        <div class="d-flex ai-center jc-center gap-xs text-disabled h-256">
            <i class="ri-bar-chart-grouped-line ri-xl"></i>
            <div class="fw-sb">{{'mautic.dashboard.widget.no_data'|trans}}</div>
        </div>
    </div>
    {% endif %}
{% endif %}